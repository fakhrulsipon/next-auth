{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/learn_nextjs/nestjs_app/src/app/%28dashboards%29/user-dashboard/addProducts/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useRouter } from \"next/navigation\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\nimport {\r\n    FaTag,\r\n    FaDollarSign,\r\n    FaBoxes,\r\n    FaLayerGroup,\r\n    FaImage,\r\n    FaAlignLeft,\r\n} from \"react-icons/fa\";\r\n\r\nconst AddProductUI = () => {\r\n    const router = useRouter();\r\n    const [form, setForm] = useState({\r\n        name: \"\",\r\n        price: \"\",\r\n        description: \"\",\r\n        category: \"\",\r\n        stock: \"\",\r\n        image: \"\",\r\n    });\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [message, setMessage] = useState(null); // { type: 'success' | 'error', text: string }\r\n    const [redirect, setRedirect] = useState(false);\r\n\r\n    const handleChange = (e) => {\r\n        setForm({ ...form, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setMessage(null);\r\n        setLoading(true);\r\n\r\n        try {\r\n            const payload = {\r\n                ...form,\r\n                price: Number(form.price),\r\n                stock: Number(form.stock),\r\n            };\r\n\r\n            const res = await fetch(\"/api/products\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(payload),\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (!res.ok) {\r\n                toast.error(data?.message || \"Failed to add product\");\r\n                return;\r\n            }\r\n            toast.success(\"âœ… Product added successfully!\");\r\n\r\n            setForm({\r\n                name: \"\",\r\n                price: \"\",\r\n                description: \"\",\r\n                category: \"\",\r\n                stock: \"\",\r\n                image: \"\",\r\n            });\r\n            setRedirect(true);\r\n        } catch (err) {\r\n            console.error(err);\r\n            toast.error(\"Failed to add product\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (redirect) {\r\n            router.push(\"/products\");\r\n        }\r\n    }, [redirect, router]);\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center p-4\">\r\n            <div className=\"w-full max-w-3xl rounded-3xl lg:p-10 transform transition duration-500\">\r\n                <h1 className=\"md:text-3xl text-2xl font-semibold mb-6 text-center text-gradient bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600\">\r\n                    Add New Product\r\n                </h1>\r\n\r\n                {/* Message */}\r\n                {message && (\r\n                    <div\r\n                        className={`mb-6 rounded-xl border p-3 text-sm ${message.type === \"success\"\r\n                            ? \"bg-green-50 border-green-200 text-green-700\"\r\n                            : \"bg-red-50 border-red-200 text-red-700\"\r\n                            }`}\r\n                    >\r\n                        {message.text}\r\n                    </div>\r\n                )}\r\n\r\n                <form className=\"flex flex-col gap-6\" onSubmit={handleSubmit}>\r\n                    {/* Product Name */}\r\n                    <div className=\"flex flex-col\">\r\n                        <label className=\"flex items-center gap-2 font-semibold text-gray-700 mb-2\">\r\n                            <FaTag className=\"text-blue-500\" /> Product Name\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"name\"\r\n                            placeholder=\"Enter product name\"\r\n                            value={form.name}\r\n                            onChange={handleChange}\r\n                            className=\"border border-gray-300 p-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-300 transition duration-300 placeholder-gray-400\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Price */}\r\n                    <div className=\"flex flex-col\">\r\n                        <label className=\"flex items-center gap-2 font-semibold text-gray-700 mb-2\">\r\n                            <FaDollarSign className=\"text-green-500\" /> Price\r\n                        </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            name=\"price\"\r\n                            placeholder=\"Enter price\"\r\n                            value={form.price}\r\n                            onChange={handleChange}\r\n                            className=\"border border-gray-300 p-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-300 transition duration-300 placeholder-gray-400\"\r\n                            required\r\n                            min=\"0\"\r\n                            step=\"0.01\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Category */}\r\n                    <div className=\"flex flex-col\">\r\n                        <label className=\"flex items-center gap-2 font-semibold text-gray-700 mb-2\">\r\n                            <FaLayerGroup className=\"text-purple-500\" /> Category\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"category\"\r\n                            placeholder=\"Enter category\"\r\n                            value={form.category}\r\n                            onChange={handleChange}\r\n                            className=\"border border-gray-300 p-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-300 transition duration-300 placeholder-gray-400\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Stock */}\r\n                    <div className=\"flex flex-col\">\r\n                        <label className=\"flex items-center gap-2 font-semibold text-gray-700 mb-2\">\r\n                            <FaBoxes className=\"text-orange-500\" /> Stock Quantity\r\n                        </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            name=\"stock\"\r\n                            placeholder=\"Enter stock quantity\"\r\n                            value={form.stock}\r\n                            onChange={handleChange}\r\n                            className=\"border border-gray-300 p-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-300 transition duration-300 placeholder-gray-400\"\r\n                            required\r\n                            min=\"0\"\r\n                            step=\"1\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Image URL */}\r\n                    <div className=\"flex flex-col\">\r\n                        <label className=\"flex items-center gap-2 font-semibold text-gray-700 mb-2\">\r\n                            <FaImage className=\"text-pink-500\" /> Image URL\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"image\"\r\n                            placeholder=\"Enter image URL\"\r\n                            value={form.image}\r\n                            onChange={handleChange}\r\n                            className=\"border border-gray-300 p-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-300 transition duration-300 placeholder-gray-400\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Description */}\r\n                    <div className=\"flex flex-col\">\r\n                        <label className=\"flex items-center gap-2 font-semibold text-gray-700 mb-2\">\r\n                            <FaAlignLeft className=\"text-blue-700\" /> Product Description\r\n                        </label>\r\n                        <textarea\r\n                            name=\"description\"\r\n                            placeholder=\"Enter product description\"\r\n                            value={form.description}\r\n                            onChange={handleChange}\r\n                            className=\"border border-gray-300 p-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-300 transition duration-300 placeholder-gray-400\"\r\n                            rows={5}\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"flex justify-center items-center\">\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={loading}\r\n                            className={`bg-gradient-to-r w-40 from-blue-500 to-purple-600 text-white p-4 rounded-xl font-bold shadow-lg transition-all duration-300 transform ${loading\r\n                                ? \"opacity-60 cursor-not-allowed\"\r\n                                : \"hover:from-purple-600 hover:to-pink-500\"\r\n                                }`}\r\n                        >\r\n                            {loading ? \"Adding...\" : \"Add Product\"}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddProductUI;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}