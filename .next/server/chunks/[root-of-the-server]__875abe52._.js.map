{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/learn_nextjs/nestjs_app/src/lib/mongodb.js"],"sourcesContent":["import { MongoClient } from \"mongodb\";\r\n\r\nconst uri = process.env.MONGODB_URI;\r\nif (!uri) throw new Error(\"❌ MONGODB_URI missing in .env.local\");\r\n\r\nlet client;\r\nlet clientPromise;\r\n\r\nif (process.env.NODE_ENV === \"development\") {\r\n  // dev: global cache করে রাখি যাতে HMR-এ বারবার নতুন কানেকশন না হয়\r\n  if (!global._mongoClientPromise) {\r\n    client = new MongoClient(uri);\r\n    global._mongoClientPromise = client.connect();\r\n  }\r\n  clientPromise = global._mongoClientPromise;\r\n} else {\r\n  // prod: একবার কানেক্ট করে নিই\r\n  client = new MongoClient(uri);\r\n  clientPromise = client.connect();\r\n}\r\n\r\nexport default clientPromise;\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,QAAQ,GAAG,CAAC,WAAW;AACnC,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;AAE1B,IAAI;AACJ,IAAI;AAEJ,wCAA4C;IAC1C,kEAAkE;IAClE,IAAI,CAAC,4CAAO,mBAAmB,EAAE;QAC/B,SAAS,IAAI,uGAAA,CAAA,cAAW,CAAC;QACzB,4CAAO,mBAAmB,GAAG,OAAO,OAAO;IAC7C;IACA,gBAAgB,4CAAO,mBAAmB;AAC5C;;uCAMe","debugId":null}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/learn_nextjs/nestjs_app/src/app/api/products/%5Bid%5D/route.js"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport clientPromise from \"@/lib/mongodb\";\r\nimport { ObjectId } from \"mongodb\";\r\n\r\nexport const runtime = \"nodejs\";\r\n\r\nexport async function GET(request, { params }) {\r\n  const { id } = params;\r\n\r\n  try {\r\n    const client = await clientPromise;\r\n    const db = client.db(process.env.MONGODB_DB);\r\n\r\n    const product = await db\r\n      .collection(\"products\")\r\n      .findOne({ _id: new ObjectId(id) });\r\n\r\n    if (!product) {\r\n      return NextResponse.json({ ok: false, message: \"Product not found\" }, { status: 404 });\r\n    }\r\n\r\n    return NextResponse.json({ ok: true, product }, { status: 200 });\r\n  } catch (err) {\r\n    console.error(\"GET /api/products/[id] error:\", err);\r\n    return NextResponse.json({ ok: false, message: \"Server error\" }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,MAAM,UAAU;AAEhB,eAAe,IAAI,OAAO,EAAE,EAAE,MAAM,EAAE;IAC3C,MAAM,EAAE,EAAE,EAAE,GAAG;IAEf,IAAI;QACF,MAAM,SAAS,MAAM,uHAAA,CAAA,UAAa;QAClC,MAAM,KAAK,OAAO,EAAE,CAAC,QAAQ,GAAG,CAAC,UAAU;QAE3C,MAAM,UAAU,MAAM,GACnB,UAAU,CAAC,YACX,OAAO,CAAC;YAAE,KAAK,IAAI,uGAAA,CAAA,WAAQ,CAAC;QAAI;QAEnC,IAAI,CAAC,SAAS;YACZ,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,IAAI;gBAAO,SAAS;YAAoB,GAAG;gBAAE,QAAQ;YAAI;QACtF;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAM;QAAQ,GAAG;YAAE,QAAQ;QAAI;IAChE,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAO,SAAS;QAAe,GAAG;YAAE,QAAQ;QAAI;IACjF;AACF","debugId":null}}]
}